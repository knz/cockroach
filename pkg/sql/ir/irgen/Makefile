YACC="../../../../../../../../bin/goyacc"
SHELL = /bin/bash

all: irgen.go

.PHONY: irgen.go
irgen.go: irgen.y
	set -eo pipefail; ret=`$(YACC) -o irgen.go.tmp -p irgen irgen.y`; \
	  ! echo "$$ret" | grep -F conflicts
	(echo '// Code generated by goyacc.'; \
	 echo '// GENERATED FILE DO NOT EDIT'; \
	 cat $@.tmp) >$@ && rm -f $@.tmp
